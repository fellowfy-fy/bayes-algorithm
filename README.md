# Разработка системы непрерывного байесовского мониторинга состояния изоляторов здания

## 1. Введение

Разработанная система предназначена для непрерывного мониторинга состояния изоляторов здания на основе измерений собственных частот колебаний с использованием байесовского подхода к обновлению модели. Система позволяет отслеживать деградацию двух типов изоляторов: Lead Rubber Bearings (LRB) и Sliding Devices (SD).

## 2. Математическая модель

### 2.1 Байесовский подход

В основе системы лежит байесовский подход к обновлению модели, описываемый формулой:

```
p(θ|D) ∝ p(D|θ)p(θ)
```

где:
- p(θ|D) - апостериорное распределение параметров
- p(D|θ) - функция правдоподобия
- p(θ) - априорное распределение параметров
- θ = {h₁, h₂} - вектор параметров жесткости изоляторов
- D - измеренные данные (частоты)

### 2.2 Суррогатная модель

Для эффективного вычисления используется квадратичная суррогатная модель (Response Surface Method):

```
f(θ|μ) = a₀ + Σ(aᵢθᵢ) + Σ(aᵢᵢθᵢ²) + Σ(aᵢⱼθᵢθⱼ)
```

где:
- f - предсказанные частоты
- aᵢ, aᵢᵢ, aᵢⱼ - коэффициенты модели
- θᵢ - параметры жесткости

### 2.3 Функция правдоподобия

Функция правдоподобия моделируется как гауссовское распределение:

```
p(D|θ) = ∏ᵢN(mᵢ - pᵢ(θ), 0, σ)
```

где:
- mᵢ - измеренные частоты
- pᵢ(θ) - предсказанные частоты
- σ - стандартное отклонение измерений

## 3. Алгоритмическая реализация

### 3.1 Структура программы

Программа реализована в виде следующих основных классов:

1. `SurrogateModel`:
   - Реализация квадратичной поверхности отклика
   - Методы fit() и predict() для обучения и предсказания

2. `IsolatorParameters`:
   - Хранение и расчет параметров изоляторов
   - Номинальные значения жесткости

3. `ContinuousBayesianUpdating`:
   - Основной класс байесовского обновления
   - Реализация MCMC
   - Визуализация результатов

### 3.2 Алгоритм MCMC

Реализован алгоритм Метрополиса со следующими шагами:

1. Инициализация цепи случайным значением из априорного распределения
2. Для каждой итерации:
   - Генерация предложения из распределения перехода
   - Вычисление отношения принятия
   - Принятие/отклонение предложения
3. Сбор статистики и проверка сходимости

### 3.3 Обработка данных

Для каждого временного интервала:
1. Сбор измерений частот
2. Байесовское обновление параметров
3. Использование апостериорного распределения как априорного для следующего интервала

## 4. Результаты и визуализация

### 4.1 Эволюция параметров

Система отслеживает:
- Изменение параметров жесткости h₁ и h₂
- Доверительные интервалы оценок
- Тренды деградации

### 4.2 Частотный анализ

Отслеживаются:
- Собственные частоты f₁ и f₂
- Отклонения от номинальных значений
- Тренды изменения частот

### 4.3 Сходимость MCMC

Анализируются:
- Сходимость цепей Маркова
- Коэффициенты принятия
- Стационарность распределений

## 5. Практическое применение

### 5.1 Входные данные

Система принимает:
- Измерения частот (ручной ввод или синтетические измерения)
- Параметры изоляторов
- Временные интервалы измерений

### 5.2 Выходные данные

Система предоставляет:
- Оценки текущего состояния изоляторов
- Прогноз деградации

## 6. Заключение

Разработанная система обеспечивает:
1. Непрерывный мониторинг состояния изоляторов
2. Надежную оценку параметров с учетом неопределенностей
3. Раннее обнаружение деградации
4. Поддержку принятия решений по обслуживанию

## 7. Используемые библиотеки

- NumPy: вычисления и работа с массивами
- SciPy: статистические расчеты и оптимизация
- Matplotlib: визуализация результатов
- typing: аннотации типов

# Инструкция по установки программы

Создайте виртуальное окружение
```
python -m venv env
```
Скачайте все необходимые библиотеки из requirements.txt, находясь в той же папке где и файл
```
pip install -r requirements.txt
```
Запустите программу
```
python main.py
```